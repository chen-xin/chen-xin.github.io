<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description"><link rel="stylesheet" type="text/css" href="/css/azw.css"></head><body><div id="header"><ul class="title-menu"><li><a class="nav" href="/">Home</a></li><li><a class="nav" href="/tags">Tags</a></li><li><a class="nav" href="/categories">Category</a></li><li><a class="nav" href="/archives">Archive</a></li><li><input id="search-site" placeholder="Search..."></li></ul><div class="post-header-wrapper"><div class="post-header"><div class="post-title">Create a Hexo theme from scratch 2 - Styling the index page</div><div class="post-meta"><div class="post-date">2018-02-16 21:02:34</div><div class="post-tag"><a class="nav tag" href="/tags/hexo/">hexo</a><a class="nav tag" href="/tags/stylus/">stylus</a><a class="nav tag" href="/tags/pug/">pug</a></div></div></div></div></div><hr><div id="content-wrapper"><div id="content"><p>In step 1 we created an index page with every required parts, the index page works ugly, now let’s make it pretty.<br>We will use stylus, which is already supported by default.</p>
<h1 id="First-create-the-az-styl-file"><a href="#First-create-the-az-styl-file" class="headerlink" title="First, create the az.styl file "></a>First, create the <em>az.styl</em> file </h1><p>Recall that we already have a stylesheet link refers to ‘/css/az.css’ in out <em>index.pug</em> file, it’s time to implement it.</p>
<p>First create <code>~/hexo-blog/themes/az/source/css/az.styl</code>. With stylus plugin, which was installed by default, Hexo will compile it to <em>az.css</em> and save to the public folder, so generated html page can access it via <code>/css/az.css</code>. Hexo server will watch and apply changes on any refered style files.</p>
<p>For develop convienent, we should install <em>hexo-browsersync</em> plugin for the <em>hexo-blog</em> project, so page will be auto reload on any change(excepts *.pug template change, Hexo server woun’t reload them).</p>
<h1 id="Now-open-the-az-styl-let’s-make-header-content-sider-parts-where-they-should-be"><a href="#Now-open-the-az-styl-let’s-make-header-content-sider-parts-where-they-should-be" class="headerlink" title="Now open the az.styl, let’s make header, content, sider parts where they should be"></a>Now open the <em>az.styl</em>, let’s make <em>header</em>, <em>content</em>, <em>sider</em> parts where they should be</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">sider-<span class="attribute">width</span> = <span class="number">400px</span></span><br><span class="line">header-<span class="attribute">height</span> = <span class="number">200px</span></span><br><span class="line">base-<span class="attribute">font</span> = <span class="number">18px</span> sans-serif</span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  <span class="attribute">background-color</span>: Cornsilk</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span></span><br><span class="line">  <span class="attribute">font</span>: base-font</span><br><span class="line"></span><br><span class="line">#header</span><br><span class="line">  <span class="attribute">background-color</span>: Lightblue</span><br><span class="line">  <span class="attribute">height</span>: header-height</span><br><span class="line"></span><br><span class="line">#<span class="attribute">content</span></span><br><span class="line">  <span class="attribute">margin-right</span>: sider-width</span><br><span class="line">  </span><br><span class="line">#sider</span><br><span class="line">  <span class="attribute">background-color</span>: Whitesmoke</span><br><span class="line">  <span class="attribute">position</span>: fixed</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span></span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span></span><br><span class="line">  <span class="attribute">width</span>: sider-width</span><br></pre></td></tr></table></figure>
<p>Here we defined variables <code>sider-width</code> and <code>header-height</code> to avoid <em>magic numbers</em> and easily change them if needed. We also defined the base font for the whole site here.<br>Adding background-color for each part would help us verify if the parts layout properly, we can remove them later.<br>We also defined the base font for the whole site here.</p>
<h1 id="Then-style-the-post"><a href="#Then-style-the-post" class="headerlink" title="Then style the post:"></a>Then style the post:</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">.post</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span> <span class="number">40px</span></span><br><span class="line">  .post-header</span><br><span class="line">    <span class="attribute">background-color</span>: Lightgray</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span></span><br><span class="line">    .post-title</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">2em</span></span><br><span class="line">      <span class="attribute">font-weight</span>: bold</span><br><span class="line">    .post-meta</span><br><span class="line">      <span class="attribute">background-color</span>: Gainsboro</span><br><span class="line">      <span class="attribute">display</span>: flex</span><br><span class="line">      .post-meta-group</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span></span><br><span class="line">        a</span><br><span class="line">          <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span></span><br><span class="line">  .post-<span class="attribute">content</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span></span><br><span class="line">    h1</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">1.6em</span></span><br><span class="line">      <span class="attribute">line-height</span>: <span class="number">1em</span></span><br><span class="line">    h2</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">1.4em</span></span><br><span class="line">      <span class="attribute">line-height</span>: <span class="number">1em</span></span><br><span class="line">    h3</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">1.2em</span></span><br><span class="line">      <span class="attribute">line-height</span>: <span class="number">1em</span></span><br><span class="line">    <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, h6</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">1em</span></span><br><span class="line">      <span class="attribute">line-height</span>: <span class="number">1em</span></span><br></pre></td></tr></table></figure>
<h1 id="Then-code-highlights"><a href="#Then-code-highlights" class="headerlink" title="Then code highlights"></a>Then code highlights</h1><p>We shall try the default <em>landscape</em> theme’s highlight style: <code>cp ~/hexo-blog/themes/landscape/source/css/_partial/highlight.styl ~/hexo-blog/themes/Azurewind/source/css/</code>, then append <code>@import highlight</code> to <em>az.styl</em>.</p>
<p>Oops, hexo-server complains some missing variables. We have to add the required vars in our <em>az.styl</em>, before the <code>@import highlight</code> line, I preffered to add them to top of the file:</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font</span>-mono = mono</span><br><span class="line"><span class="attribute">font-size</span> = <span class="number">16px</span></span><br><span class="line"><span class="attribute">line-height</span> = <span class="number">1.8em</span></span><br></pre></td></tr></table></figure>
<p>Syntax highlight still not working. That’s because the <em>highlight.styl</em> try to highlight <code>.article-entry</code>, while our template has only <code>.post</code> entry. A easy way to resolve this would be tell <em>highlight.styl</em> to fit out template, change the <code>.article-entry</code> line to <code>.article-entry, .post</code>.</p>
<p>Now we highlight works, but also ugly scrollbars in code block. Styling <code>.highlight table</code> to <code>width: 100%</code> Resolves this problem.</p>
<h1 id="The-sider"><a href="#The-sider" class="headerlink" title="The sider"></a>The sider</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">#sider</span><br><span class="line">  <span class="attribute">background-color</span>: Whitesmoke</span><br><span class="line">  <span class="attribute">position</span>: fixed</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span></span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span></span><br><span class="line">  <span class="attribute">width</span>: sider-width</span><br><span class="line">  .sider</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span></span><br><span class="line">    .side-widget</span><br><span class="line">      <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">0</span></span><br><span class="line">      .widget-title</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">1.2em</span></span><br><span class="line">        <span class="attribute">font-weight</span>: bold</span><br><span class="line">        <span class="attribute">border-bottom</span>: inset</span><br><span class="line"></span><br><span class="line">      .side-widget-topnav</span><br><span class="line">        <span class="attribute">display</span>: flex</span><br><span class="line">        <span class="attribute">justify-content</span>: space-around</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">2em</span></span><br><span class="line">        a</span><br><span class="line">          <span class="attribute">display</span>: inline-block</span><br><span class="line">          <span class="attribute">text-align</span>: center</span><br><span class="line">          <span class="attribute">flex-grow</span>: <span class="number">1</span></span><br><span class="line">          &amp;:hover</span><br><span class="line">            <span class="attribute">text-decoration</span>: none</span><br><span class="line">            <span class="attribute">border-bottom</span>: inset</span><br><span class="line"></span><br><span class="line">      .side-widget-search</span><br><span class="line">        input#search-site</span><br><span class="line">          <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">          <span class="attribute">box-sizing</span>: border-box</span><br><span class="line">          </span><br><span class="line">      <span class="selector-tag">span</span>[class$=<span class="string">"list-count"</span>]</span><br><span class="line">        &amp;:before</span><br><span class="line">          <span class="attribute">content</span>: <span class="string">' ('</span></span><br><span class="line">        &amp;:after</span><br><span class="line">          <span class="attribute">content</span>: <span class="string">')'</span></span><br><span class="line"></span><br><span class="line">      ul</span><br><span class="line">        <span class="attribute">list-style-type</span>: none</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span></span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-tag">ul</span><span class="selector-class">.category-list</span>, <span class="selector-tag">ul</span>.archive</span><br><span class="line">        ul</span><br><span class="line">          <span class="attribute">padding-left</span>: <span class="number">1em</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-tag">ul</span>.tag-list</span><br><span class="line">        <span class="attribute">display</span>: flex</span><br><span class="line">        <span class="attribute">flex-wrap</span>: wrap</span><br><span class="line">        li</span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">2px</span> <span class="number">10px</span> <span class="number">2px</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>We use pseudo element to add braces to post count in archive, tag and category lists.<br>The tag list was displayed as cloud. We don’t use Hexo’s tag-cloud helper here because it dosen’t have post count property.</p>
<h1 id="The-result"><a href="#The-result" class="headerlink" title="The result"></a>The result</h1><p>Now the index page looks like a blog, and the category, tag and archive links works. Thou still ugly to the critics.<br>We sudpend refining the index page for now, and move on to the post view.</p>
</div><div id="side-nav"><div class="side-widget"><div class="side-widget-toc"><div class="widget-title">toc</div><div class="widget"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#First-create-the-az-styl-file"><span class="toc-text">First, create the az.styl file </span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Now-open-the-az-styl-let’s-make-header-content-sider-parts-where-they-should-be"><span class="toc-text">Now open the az.styl, let’s make header, content, sider parts where they should be</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Then-style-the-post"><span class="toc-text">Then style the post:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Then-code-highlights"><span class="toc-text">Then code highlights</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#The-sider"><span class="toc-text">The sider</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#The-result"><span class="toc-text">The result</span></a></li></ol></div></div></div></div></div></body><script src="/js/az.js"></script></html>